<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>The Tangibles</title>

<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script	src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
<script src="http://heartcode-canvasloader.googlecode.com/files/heartcode-canvasloader-min-0.9.1.js"></script>

<script type="text/javascript">
$(function() {
	var cl = new CanvasLoader('server_loading_spinner');
	cl.setDiameter(50);
	cl.setDensity(60);
	cl.setRange(1);
	cl.show();
});
</script>

<link href="css/lobbystyle.css" rel="stylesheet" type="text/css" />

<script src="js/socket.js"></script>
<script src="js/lobby.js"></script>
<script type="text/javascript" src="js/tangibleLib.js"></script>
<script src="js/tangibles.js"></script>

</head>
<body>
	<!-- Popup dialogs-->
	<div id="dialog_select_user_name" title="Select user name">
		<label for="user_name">User name</label><br />
		<input type="text" name="user_name" id="user_name" class="text ui-widget-content ui-corner-all" />
	</div>
	<div id="dialog_create_room" title="Create new room">
		<label for="room_name">Room name</label><br />
		<input type="text" id="room_name" class="text ui-widget-content ui-corner-all" />
		<br />
		<br />
		<label for="room_desc">Description (optional)</label><br />
		<input type="text" id="room_desc" class="text ui-widget-content ui-corner-all" />
		<!-- <br />
		<br /> -->
		<label for="room_password">Password (optional)</label><br />
		<input type="password" id="room_password" class="text ui-widget-content ui-corner-all" />
	</div>
	<div id="dialog_user_invite" title="Select users to invite">
		<div id="room_userlist_invite"></div>
		<div id="room_invite_empty">No users available.</div>
	</div>
	<div id="dialog_tangible_status" title="Tangible status">
		<p><b class="status"></b></p>
		Make sure that:
		<ol>
			<li>TangibleAPI is running.</li>
			<li>SiftDriver is running.</li>
			<li>App is running in Siftdev.</li>
			<li>SpheroDriver is running.</li>
		</ol>
		<b>Connected devices</b><br />
		<br />
		Sifteos: <b id="numSifteos">0</b>
		Spheros: <b id="numSpheros">0</b>
		<br />
		<br />
	</div>

	<!-- Room frame -->
	<iframe id="roomFrame" src="about:blank" seamless></iframe>

	<div id="header">
		<img src="img/logo.png" class="expanded" />
		<img src="img/logo-small.png" class="small" />
		<div id="title" class="expanded"></div>
		<div id="top" class="expanded">
			<div id="display_user_name"></div>
			<button id="change_user_name">Change name</button>
		</div>
		<div id="toolbar">
			<button id="tangible_status" title="The tangible devices are responding Ok!">Tangible status</button>
			<span id="room_toolbar">
				<input type="checkbox" id="toggle_workspace" /><label for="toggle_workspace">Open workspace</label>
				<input type="checkbox" id="toggle_chat" /><label for="toggle_chat">Open chat</label>
				<button id="room_invite">Invite users</button>
				<button id="room_leave">Leave room</button>
				<button id="toggle_header">Show the header</button>
			</span>
		</div>
	</div>

	<!-- Loading div -->
	<div id="server_loading">
		<div id="server_loading_spinner"></div>
		<h2>Connecting...</h2>
	</div>

	<!-- Splash div -->
	<div id="splash">
		<h1>Welcome to The Tangibles!</h1>
		<label for="splash_name">Enter your name:</label>
		<input type="text" id="splash_name" class="text ui-widget-content ui-corner-all" />
		<button id="splash_continue">Continue</button>
	</div>

	<!-- Lobby div -->
	<div id="main">
		<div id="lobby_list">
			<span class="bold">Users in the lobby: </span><span id="room_user_list_0" class="remote_user_list"></span>
		</div>
		<table id="room_table">
			<thead>
				<tr>
					<th>
						<h2>Room</h2>
					</th>
					<th>
						<h2>Participants</h2>
						<button id="create_room">Create room</button>
					</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="3">No rooms, click on "Create room" to create one.</td>
				</tr>
			</tfoot>
		</table>
	</div>

	<div id="call_list"></div>

</body>
</html>